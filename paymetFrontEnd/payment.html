<!DOCTYPE html>
<html class="no-js" lang="zxx">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>PAYMENT</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- CSS here -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
     <link rel="stylesheet" href="css/style.css">  
    

</head>

<body>
  


    <!--Form Start-->
    <div class="container">
    	<div class="row">
    		<div class="col-md-3"></div>
    		<div class="col-md-6">
    			<h1 class="text-center">PAYMENT</h1><br>

    			<!--Form start-->
				<form id="formPayment">
                    <label class="label col-md-3 control-label" for="ExampleInput1">Appointment No :</label>
                    <div class="col-md-9">
                        <input type="text" class="form-control" id="apno" name="apno" placeholder="Appointment No" maxlength="6" required>
                    </div><br>
                   

                 
                    <label class="label col-md-3 control-label" for="ExampleInput1">Date :</label>
                    <div class="col-md-9">
                        <input type="date" class="form-control" id="date" name="date" placeholder="Date" required>
                    </div><br>
                   


                   
                    <label class="label col-md-3 control-label" for="ExampleInput1">Time :</label>
                    <div class="col-md-9">
                        <input type="time" class="form-control" id="time" name="time" placeholder="Time" required>
                    </div><br>
                   

                   
                    <label class="label col-md-3 control-label" for="ExampleInput1">Card No :</label>
                    <div class="col-md-9">
                        <input type="cardNo" class="form-control" id="cardNo" name="cardNo" placeholder="Card No" maxlength="16" pattern="[0-9]*" required >
                       
                    </div><br>
                    
					
					
                    <label class="label col-md-3 control-label" for="ExampleInput1">CVV No :</label>
                    <div class="col-md-9">
                        <input type="cvv" class="form-control" id="cvv" name="cvv" placeholder="CVV No" maxlength="3" required >
                       
                    </div><br>
                  
                    
                    <div id="alertSuccess" class="alert alert-success"></div>
                    <div id="alertError" class="alert alert-danger"></div><br>

                    &nbsp; &nbsp;<button type="button" id="btnsubmit" class="boxed-btn31">Pay</button>
                 
				</form>
    		</div>
    		<div class="col-md-3"></div>
    	</div>
    </div><br><br>
    <!--Form End-->
    

    <!--Table Start-->
    <div class="container">
        <div class="row">
            <div class="col-md-1"></div>
            <div class="col-md-10">
                <table class="table" style="width: 100%;" id="paymentTable">
                    <thead class="thead-dark">
                      <tr>
                        <th scope="col">Pay Id</th>
                        <th scope="col">Patient Name</th>
                        <th scope="col">Appointment No</th>
                        <th scope="col">Doctor Name</th>
                        <th scope="col">Location</th>
                        <th scope="col">Date</th>
                        <th scope="col">Time</th>
                        <th scope="col">Amount</th>
                        <th scope="col">Card No</th>
                        <th scope="col"></th>
                        <th scope="col"></th>
                      </tr>
                    </thead>

                    <tbody id="tbl">

                     
                    </tbody>
                </table>

            <!-- Update Modal -->
			  <div class="modal fade" id="myModal" role="dialog">
			    <div class="modal-dialog modal-lg">
			      <div class="modal-update">
			        <div class="modal-header">
			          <button type="button" class="close" data-dismiss="modal">&times;</button>
			         
			        </div>
			        <div class="modal-body">

				          <div class="form-group">
						    <label for="exampleInputEmail1" id="editBoxAppH">Appointment No :</label> <br>
						    <input type="text" class="form-control" id="editBox1" aria-describedby="emailHelp"> 
						  </div>

				          <div class="form-group">
						    <label for="exampleInputEmail1">Card No :</label>
						    <input type="text" class="form-control" id="editBox2" aria-describedby="emailHelp" maxlength="16" pattern="[0-9]*"> 
						  </div>
       

						  <div class="form-group">
						    <label for="exampleInputEmail1">CVV No :</label>
						    <input type="tel" class="form-control" id="editBox3" aria-describedby="emailHelp" maxlength="3"> 
						  </div>

					  
			        </div>
			        <div class="modal-footer">
			          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
					  <button type="button" class="btn btn-success" onclick="UpdateResult()" data-dismiss="modal">Save</button>
			        </div>
			      </div>
			    </div>
              </div>

              
              
            <!-- Delete Modal -->
			<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-delete">
                    <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel">Deleting Payemt</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                         <p class="text-danger">Are you sure want to delete this Payment....?</p> <label for="exampleInputEmail1" id="payID" style="visibility: hidden;">Doctor Name</label> 
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                      <button type="button" class="btn btn-danger" onclick="DeleteResult()" data-dismiss="modal" >Yes</button>
                    </div>
                  </div>
                </div>
            </div>
            </div> 
        </div>
    </div><br><br><br><br>
    <!--Table End-->

    <!-- JS here -->
    <script src="js/main.js"></script>
    <script  src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="   crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="js/service.js"></script>
    

<!--Form Validation-->
    <script>
        $(document).ready(function()
        {
            if($("#alertSuccess").text().trim() == "")
            {
                $("#alertSuccess").hide();
            }
            
            $("#alertError").hide();
            fetchResult();
        });

        
        $(document).on("click", "#btnsubmit", function(event)
        {
            $("#alertSuccess").text("");
            $("#alertSuccess").hide();
            $("#alertError").text("");
            $("#alertError").hide();

            //Form validatin
            var status = validateForm();

            //If not valid
            if(status != true)
            {
                $("#alertError").text(status);
                $("#alertError").show();
                return;
            }

            //If valid

            var obj = {
                "apno" : $("#apno").val(),
                "date" : $("#date").val().trim(),
                "time" : $("#time").val().trim(),
                "cardNo" : $("#cardNo").val().trim(),
                "cvv" : $("#cvv").val().trim()
            }

            saveNewRecord(obj);

           
        });

    </script>


</body>

</html>